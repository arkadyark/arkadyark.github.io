<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Data Visualization: Opening moves in chess</title>
  <meta name="description" content="Millionbase and d3.js">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://arkadyark.me/projects/data-visualization-chess">
  <link rel="alternate" type="application/rss+xml" title="Arkady Arkhangorodsky" href="http://arkadyark.me/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

      <div class="title-wrapper">
          <h1 class="site-title"><a href="/"><span class="first-name">Ark</span>h<span class="first-name">a</span>ngoro<span class="first-name">d</span>sk<span class="first-name">y</span></a></h1>
        <a class="site-subtitle" href="http://www.www3.reocities.com/SiliconValley/heights/2305/">Welcome to my place in the web</a>
      </div>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
        
          
        
          
          <a class="page-link" href="/interests/">What I like</a>
          
        
          
        
          
          <a class="page-link" href="/projects/">What I do</a>
          
        
          
          <a class="page-link" href="/thoughts/">What I think</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

    <header class="post-header">
        <h1 class="post-title">Data Visualization: Opening moves in chess</h1>
        <p class="post-meta">Apr 28, 2015</p>
    </header>

    <article class="post-content">
        <h4 id="millionbase-and-d3js">Millionbase and d3.js</h4>

<p>For quite some time now I’ve had the idea in my head to do something with the <a href="http://www.top-5000.nl/pgn.htm">MillionBase</a> database that I found quite some time ago. Basically, it’s several million professional games of chess, over several decades, in an easy to parse format, available for free. It seemed a shame to leave it collecting dust, so I made a simple data visualization, which you can check out <strong><a href="http://arkadyark.me/visualizations/chess">here</a></strong>.</p>

<p>This also coincided with me just finishing another class on Treehouse, this time on the wonderful data visualization library <a href="http://d3js.org">d3.js</a>. It is really powerful and has been used to great effect before to create some beautiful work that has gotten a lot of attention. However, to somebody just learning it, like I am, it comes across as having several moving parts and typical commands. If I didn’t do something with it quickly, most of what I learned from the class would fall right back out, so this came at a good time.</p>

<h4 id="the-project-itself">The project itself</h4>

<p>I chose to focus on the opening moves because I wanted something relatively simple; I didn’t want to go the full distance of making a complete chess engine. The chess games are stored in the PGN format, which appears to be the standard for chess data. One difficulty was the size of the file - since the file was so huge I wanted to parse it as a stream, so that I would only need one pass through the gigabyte of data. This made things a little bit annoying to deal with in the code and required a bit of a hack to deal with. I also had a few strange things coming up, like certain moves that couldn’t possibly have occurred in the first move. These are probably from bugs in my code though I haven’t quite yet diagnosed where they’re coming from.</p>

<p>After this, the d3 work was surprisingly easy, probably the easiest part. Very little was required and in general it was pretty intuitive. One difficult I’m having is getting the mouse coordinates in terms of the SVG of the chess board, rather than having them be absolute in terms of the page. That’s part of why I’m linking to it, rather than just showing the damn thing right here.</p>

<p>You can find all of the source for this project, as per usual, on <a href="https://github.com/arkadyark/arkadyark.github.io/tree/master/visualizations/chess">my Github</a>. As you can see I did a bit more work afterwards to extend it a bit, since it really screams out for a full gameplay mode where you can see the probabilities/frequencies for any board state. Stay tuned for that, and another project I’m doing with d3 coming somewhat soon.</p>

    </article>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
/* * * CONFIGURATION VARIABLES * * */
var disqus_shortname = 'arkadyark';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Arkady Arkhangorodsky</li>
          <li><a href="mailto:aarkhangorodsky@gmail.com">aarkhangorodsky@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/arkadyark">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">arkadyark</span>
            </a>
          </li>
          
        </ul>
      </div>
      <div class="footer-col-end">
          <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>
      </div>
    </div>

  </div>

</footer>


    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63209221-1', 'auto');
    ga('send', 'pageview');

</script>

  </body>

</html>
