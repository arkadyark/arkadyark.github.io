<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Personal site with my thoughts">
    <meta name="author" content="Arkady Arkhangorodsky">
    <meta property="og:description" name="description" content="Personal Website for Arkady Arkhangorodsky">
    <meta name="keywords" content="Student, engineering, UofT, Toronto, Programming, Hackathons, Arsenal">

    <link rel="icon" href="img/favicon.ico">

    <title>Arkady Arkhangorodsky</title>
    <link href="css/style.css" rel="stylesheet">
  </head>

  <body>

        <ul class="tabs">
          <li class="tab-link current" data-tab="about">
            <a href="#about"> About me </a>
         </li>
          <li class="tab-link" data-tab="thoughts">
            <a href="#thoughts"> What I think </a>
          </li>
          <li class="tab-link" data-tab="projects">
            <a href="#projects"> What I do </a>
          </li>
          <li class="tab-link" data-tab="interests">
            <a href="#interests"> What I like </a>
          </li>
        </ul>

        <div class="header">
          <h1 class="title">Arkady</h1>
          <p class="subtitle">Welcome to my little piece of the internet.</p>
        </div>

        <div class="tab-content about current" id="about">
          <div class="content-card">
            <p> My name is Arkady ('R-kah-dee') Arkhangorodsky (nope). I'm a student in my first year of Engineering Science at the University of Toronto. interested in programming, music, history, people, robots, and a whole lot more. I like to play piano when I get the chance. </p>
            <p> On this site you'll find my thoughts, projects, interests and more. I like to think that I have a lot of them. </p>
            <p> I'm mostly using this as a sandbox to pick up some web development skills, so things will be changing here pretty constantly. </p>
          </div>
        </div>

        <div class="tab-content thoughts" id="thoughts">
          <div id="blog-posts-div"></div>
        </div>

        <div class="tab-content projects" id="projects">
          <div id="project-posts-div"></div>
        </div>

        <div class="tab-content interests" id="interests">
          <div id="interest-posts-div"></div>
        </div>

    <footer class="blog-footer">

        <div> 
          <a href="http://www.github.com/arkadyark">
            <img src="img/github.png"/>
          </a>

          <a href="http://www.facebook.com/ArkadyArkhangorodsky">
            <img src="img/facebook.png"/>
          </a>

          <a href="res/resume.pdf">
            <img src="img/resume.png"/>
          </a>

          <a href="http://www.twitter.com/arkadyark">
            <img src="img/twitter.png"/>
          </a>
        </div>

        <a href="#">Back to top</a>

        <p> Last updated: February 2015 </p>

    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>


    <!-- load firebase! -->
    <script src='https://cdn.firebase.com/js/client/2.0.4/firebase.js'></script>
    <script>
        $(document).ready(function(){
          $('ul.tabs li').click(function(){
            var tab_id = $(this).attr('data-tab');

            $('ul.tabs li').removeClass('current');
            $('.tab-content').removeClass('current');

            $(this).addClass('current');
            $("#"+tab_id).addClass('current');
            })
        })

      // Load posts from firebase
      var ref = new Firebase("https://arkadyark.firebaseio.com");

      // Simple hit counter
      var hits = ref.child("hits")
      hits.once("value", function(snapshot) {
        var numHits = snapshot.val()
        ref.update({hits:numHits+1});
      })

      var blogs = ref.child("blog-posts")
      var projects = ref.child("project-posts")
      var interests = ref.child("interest-posts")
      // Attach an asynchronous callback to read the data at our posts reference
      blogs.on("child_added", function(snapshot) {
        var val = snapshot.val()
        document.getElementById("blog-posts-div").innerHTML =
          "<div class=\"content-card\"><div class=\"content-title\"><h3>"
            + val["title"] + "</h3></div><div class=\"panel-body\"><p>"
            + val["post"] + "</p></div></div>" + document.getElementById("blog-posts-div").innerHTML
      }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
      });
      // Attach an asynchronous callback to read the data at our posts reference
      projects.on("child_added", function(snapshot) {
        var val = snapshot.val()
        document.getElementById("project-posts-div").innerHTML =
          "<div class=\"content-card\"><div class=\"content-title\"><h3>"
            + val["title"] + "</h3></div><div class=\"panel-body\"><p>"
            + val["post"] + "</p></div></div>" + document.getElementById("project-posts-div").innerHTML
      }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
      });
      // Attach an asynchronous callback to read the data at our posts reference
      interests.on("child_added", function(snapshot) {
        var val = snapshot.val()
        document.getElementById("interest-posts-div").innerHTML =
          "<div class=\"content-card\"><div class=\"content-title\"><h3>"
            + val["title"] + "</h3></div><div class=\"panel-body\"><p>"
            + val["post"] + "</p></div></div>" + document.getElementById("interest-posts-div").innerHTML
      }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
      });
    </script>
  </body>
</html>
